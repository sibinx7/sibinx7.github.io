{"_path":"/interviews/javascript/doc/vdom-dom","_dir":"doc","_draft":false,"_partial":false,"_locale":"","title":"DOM vs Virtual DOM","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"dom-document-object-model-and-v-dom-virtual-dom"},"children":[{"type":"text","value":"DOM (Document Object Model) and V-DOM( Virtual DOM)"}]},{"type":"element","tag":"h3","props":{"id":"dom-document-object-model"},"children":[{"type":"text","value":"DOM (Document Object Model)"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Definition"}]},{"type":"text","value":": The DOM is a programming interface for HTML and XML documents. It represents the\nstructure of the document as a tree of objects that can be manipulated."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nature"}]},{"type":"text","value":": Real time and browser specific. Changes directly update the UI"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Performance"}]},{"type":"text","value":": Modifying the DOM can be show because it involves immediate updates to the actual structure\nof the page in the browser, including layout recalculations and rendering"}]}]},{"type":"element","tag":"h3","props":{"id":"virtual-dom-document-object-model"},"children":[{"type":"text","value":"Virtual DOM (Document Object Model)"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Definition"}]},{"type":"text","value":": The Virtual DOM is an abstraction of the DOM. It is a lightweight copy of the actual DOM, used\nmainly in modern frameworks like React"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nature"}]},{"type":"text","value":": Exists only in memory and never interacts directly with the browser"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Performance"}]},{"type":"text","value":": Faster updates as changes are computed in memory first. The difference between the previous and updated Virtual DOM are calculated, and only the necessary changes are applied to the real DOM"}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Feature"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"DOM"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Virtual DOM"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Definition"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Real DOM in the browser"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"In memory abstraction of DOM"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Performance"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Direct updates, slower"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Efficient updates, faster"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Repainting/Reflowing"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Immediate, often ineffient"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Batched and optimized"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Ease of use"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Manual updates"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Automatic updates via framwork"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Frameworks/Tech"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Native Javascript, jQuery"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"React, Vue, etc"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Copies"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"DOM , only one Copy"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Two for diffing (old and new) per framework instance"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Memory Usage"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Heavy, as it includes the full document structure"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Lightweight as it's just a Javascript object"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Algoritham"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"No algoritham"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Diffing algoritham"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"how-virtual-dom-work"},"children":[{"type":"text","value":"How Virtual DOM work"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"DOM is a real and single,  it directly deals with browser rendering engine. When there are changes, whenever changes happen it update\nimmediately, every update can potentially trigger expensive operations like "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"reflow"}]},{"type":"text","value":" (layout re calculation) and "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"repaint"}]},{"type":"text","value":" (visual updates).\nThe "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Virtual DOM"}]},{"type":"text","value":", avoids these frequent and costly reflow and repaint by calculating changes in the memory and only applying minimal updated to\nreal DOM. It also update in batch and not every single changes."}]},{"type":"element","tag":"h5","props":{"id":"why-reflow-and-repaints-are-heavy"},"children":[{"type":"text","value":"Why Reflow and Repaints are heavy"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reflow (Layout calculation)\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reflow occur when the browser recalculates the positions and dimensions of elements on the page.\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Elements size (eg, width and height)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Layout affecting properties (eg: margin, padding, border)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"DOM structure (eg, add/remove/modify nodes)"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Impact\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reflow can cascade, if a parent element's size changes,all child elements must be recalculated"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"On large, complex pages, this recalculation become costly"}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Repaint (Visual calculation, no layout)\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"A Repaint occur in browser whenever visual elements on the screen change in a way that it doesn't affect layout (color changes, visibility changes, text font changes).Repainting is less expensive that reflow, it still consumes resource\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Frequent Update: If you frequently change styles and trigger repaints, the browser will repeatedly refresh and affects parts of the screen, consuming CPU, Memory and GPU"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Large Areas: When repainting affects large portions of the screen or element with complex styles, it becomes more computationally expensive."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Inefficient DOM manipulations: Direct DOM updates or uncontrolled rendering can lead to unnecessary repaints."}]}]}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"how-virtual-dom-solve-reflow-and-repaint"},"children":[{"type":"text","value":"How Virtual DOM solve reflow and repaint"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Efficient Diffing Algorithm:\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"React maintain lightweight copy of DOM in memory, which is called Virtual DOM. It available in memory"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Multiple copies of Virtual DOM at least 2 per instance, when state, props or anything changes , React recalculate the difference by comparing old and new virtual DOM."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Only the part of the DOM that have changed are updated in the real DOM, minimizing repaint or reflow"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Batching Updates:\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"React batches state and props updates to perform the together,reducing number of DOM updates and subsequent repaint"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Controlled Updates:\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"React component life cycle methods and hooks allow developers to prevent unnecessary re-renders."}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reconciliation:\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"React reconciliation process ensure that the real DOM is updated as efficiently as possible. It minimizes both number and scope of repaints by targeting only the changed element."}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"advantages-of-virtual-dom"},"children":[{"type":"text","value":"Advantages of Virtual DOM"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Improved performance: Reduced costly DOM manipulations by batching updates"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Simplified Development: Developers focus on component logic, leaving optimization to React"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Consistent Rendering: Abstract browser specific rendering, ensuring uniform performance"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Better user experience: Faster updates lead to smoother interaction and enhance user satisfaction"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"dom-document-object-model","depth":3,"text":"DOM (Document Object Model)"},{"id":"virtual-dom-document-object-model","depth":3,"text":"Virtual DOM (Document Object Model)"},{"id":"how-virtual-dom-work","depth":3,"text":"How Virtual DOM work"}]}},"_type":"markdown","_id":"content:interviews:javascript:doc:vdom-dom.md","_source":"content","_file":"interviews/javascript/doc/vdom-dom.md","_stem":"interviews/javascript/doc/vdom-dom","_extension":"md"}